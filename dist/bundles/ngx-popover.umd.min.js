!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-popover",["exports","@angular/core","@angular/common"],e):e(t["ngx-popover"]={},t.ng.core,t.ng.common)}(this,function(t,n,e){"use strict";var o=function(){function t(t,e,o){var i=this;this.element=t,this.cdr=e,this.renderer=o,this.placement="bottom",this.animation=!0,this.closeOnClickOutside=!1,this.closeOnMouseOutside=!1,this.onCloseFromOutside=new n.EventEmitter,this.top=-1e4,this.left=-1e4,this.isIn=!1,this.displayType="none",this.onDocumentMouseDown=function(t){var e=i.element.nativeElement;e&&i.popover&&(e.contains(t.target)||i.popover.getElement().contains(t.target)||(i.hide(),i.onCloseFromOutside.emit(undefined)))}}return t.prototype.ngAfterViewInit=function(){var e=this;this.closeOnClickOutside&&(this.listenClickFunc=this.renderer.listen("document","mousedown",function(t){return e.onDocumentMouseDown(t)})),this.closeOnMouseOutside&&(this.listenMouseFunc=this.renderer.listen("document","mouseover",function(t){return e.onDocumentMouseDown(t)})),this.show(),this.cdr.detectChanges()},t.prototype.ngOnDestroy=function(){this.closeOnClickOutside&&this.listenClickFunc(),this.closeOnMouseOutside&&this.listenMouseFunc()},t.prototype.show=function(){if(this.popover&&this.popover.getElement()){var t=this.positionElements(this.popover.getElement(),this.popoverDiv.nativeElement,this.placement);this.displayType="block",this.top=t.top,this.left=t.left,this.isIn=!0}},t.prototype.hide=function(){this.top=-1e4,this.left=-1e4,this.isIn=!0,this.popover.hide()},t.prototype.hideFromPopover=function(){this.top=-1e4,this.left=-1e4,this.isIn=!0},t.prototype.positionElements=function(t,e,o,i){void 0===i&&(i=!1);var n=o.split("-"),s=n[0],r=n[1]||"center",p=i?this.offset(t):this.position(t),u=e.offsetWidth,l=e.offsetHeight;this.effectivePlacement=s=this.getEffectivePlacement(s,t,e);var h,c={center:function(){return p.left+p.width/2-u/2},left:function(){return p.left},right:function(){return p.left+p.width}},d={center:function(){return p.top+p.height/2-l/2},top:function(){return p.top},bottom:function(){return p.top+p.height}};switch(s){case"right":h={top:d[r](),left:c[s]()};break;case"left":h={top:d[r](),left:p.left-u};break;case"bottom":h={top:d[s](),left:c[r]()};break;default:h={top:p.top-l,left:c[r]()}}return h},t.prototype.position=function(t){var e={top:0,left:0},o=this.offset(t),i=this.parentOffsetEl(t);i!==window.document&&((e=this.offset(i)).top+=i.clientTop-i.scrollTop,e.left+=i.clientLeft-i.scrollLeft);var n=t.getBoundingClientRect();return{width:n.width||t.offsetWidth,height:n.height||t.offsetHeight,top:o.top-e.top,left:o.left-e.left}},t.prototype.offset=function(t){var e=t.getBoundingClientRect();return{width:e.width||t.offsetWidth,height:e.height||t.offsetHeight,top:e.top+(window.pageYOffset||window.document.documentElement.scrollTop),left:e.left+(window.pageXOffset||window.document.documentElement.scrollLeft)}},t.prototype.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:window.getComputedStyle?window.getComputedStyle(t)[e]:t.style[e]},t.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},t.prototype.parentOffsetEl=function(t){for(var e=t.offsetParent||window.document;e&&e!==window.document&&this.isStaticPositioned(e);)e=e.offsetParent;return e||window.document},t.prototype.getEffectivePlacement=function(t,e,o){var i=t.split(" ");if("auto"!==i[0])return t;var n=e.getBoundingClientRect(),s=i[1]||"bottom";return"top"===s&&n.top-o.offsetHeight<0?"bottom":"bottom"===s&&n.bottom+o.offsetHeight>window.innerHeight?"top":"left"===s&&n.left-o.offsetWidth<0?"right":"right"===s&&n.right+o.offsetWidth>window.innerWidth?"left":s},t.decorators=[{type:n.Component,args:[{selector:"popover-content",template:'\n<div #popoverDiv class="popover {{ effectivePlacement }}"\n     [style.top]="top + \'px\'"\n     [style.left]="left + \'px\'"\n     [class.in]="isIn"\n     [class.fade]="animation"\n     style="display: block"\n     role="popover">\n    <div [hidden]="!closeOnMouseOutside" class="virtual-area"></div>\n    <div class="arrow"></div> \n    <h3 class="popover-title" [hidden]="!title">{{ title }}</h3>\n    <div class="popover-content">\n        <ng-content></ng-content>\n        {{ content }}\n    </div> \n</div>\n',styles:["\n.popover .virtual-area {\n    height: 11px;\n    width: 100%;\n    position: absolute;\n}\n.popover.top .virtual-area {\n    bottom: -11px; \n}\n.popover.bottom .virtual-area {\n    top: -11px; \n}\n.popover.left .virtual-area {\n    right: -11px; \n}\n.popover.right .virtual-area {\n    left: -11px; \n}\n"]}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ChangeDetectorRef},{type:n.Renderer2}]},t.propDecorators={content:[{type:n.Input}],placement:[{type:n.Input}],title:[{type:n.Input}],animation:[{type:n.Input}],closeOnClickOutside:[{type:n.Input}],closeOnMouseOutside:[{type:n.Input}],popoverDiv:[{type:n.ViewChild,args:["popoverDiv"]}]},t}(),i=function(){function t(t,e){this.viewContainerRef=t,this.resolver=e,this.PopoverComponent=o,this.popoverOnHover=!1,this.popoverDismissTimeout=0,this.onShown=new n.EventEmitter,this.onHidden=new n.EventEmitter}return t.prototype.showOrHideOnClick=function(){this.popoverOnHover||this.popoverDisabled||this.toggle()},t.prototype.showOnHover=function(){this.popoverOnHover&&(this.popoverDisabled||this.show())},t.prototype.hideOnHover=function(){this.popoverCloseOnMouseOutside||this.popoverOnHover&&(this.popoverDisabled||this.hide())},t.prototype.ngOnChanges=function(t){t.popoverDisabled&&t.popoverDisabled.currentValue&&this.hide()},t.prototype.toggle=function(){this.visible?this.hide():this.show()},t.prototype.show=function(){var t=this;if(!this.visible){if(this.visible=!0,"string"==typeof this.content){var e=this.resolver.resolveComponentFactory(this.PopoverComponent);if(!this.visible)return;this.popover=this.viewContainerRef.createComponent(e),(o=this.popover.instance).popover=this,o.content=this.content,this.popoverPlacement!==undefined&&(o.placement=this.popoverPlacement),this.popoverAnimation!==undefined&&(o.animation=this.popoverAnimation),this.popoverTitle!==undefined&&(o.title=this.popoverTitle),this.popoverCloseOnClickOutside!==undefined&&(o.closeOnClickOutside=this.popoverCloseOnClickOutside),this.popoverCloseOnMouseOutside!==undefined&&(o.closeOnMouseOutside=this.popoverCloseOnMouseOutside),o.onCloseFromOutside.subscribe(function(){return t.hide()}),0<this.popoverDismissTimeout&&setTimeout(function(){return t.hide()},this.popoverDismissTimeout)}else{var o;((o=this.content).popover=this).popoverPlacement!==undefined&&(o.placement=this.popoverPlacement),this.popoverAnimation!==undefined&&(o.animation=this.popoverAnimation),this.popoverTitle!==undefined&&(o.title=this.popoverTitle),this.popoverCloseOnClickOutside!==undefined&&(o.closeOnClickOutside=this.popoverCloseOnClickOutside),this.popoverCloseOnMouseOutside!==undefined&&(o.closeOnMouseOutside=this.popoverCloseOnMouseOutside),o.onCloseFromOutside.subscribe(function(){return t.hide()}),0<this.popoverDismissTimeout&&setTimeout(function(){return t.hide()},this.popoverDismissTimeout),o.show()}this.onShown.emit(this)}},t.prototype.hide=function(){this.visible&&(this.visible=!1,this.popover&&this.popover.destroy(),this.content instanceof o&&this.content.hideFromPopover(),this.onHidden.emit(this))},t.prototype.getElement=function(){return this.viewContainerRef.element.nativeElement},t.decorators=[{type:n.Directive,args:[{selector:"[popover]",exportAs:"popover"}]}],t.ctorParameters=function(){return[{type:n.ViewContainerRef},{type:n.ComponentFactoryResolver}]},t.propDecorators={content:[{type:n.Input,args:["popover"]}],popoverDisabled:[{type:n.Input}],popoverAnimation:[{type:n.Input}],popoverPlacement:[{type:n.Input}],popoverTitle:[{type:n.Input}],popoverOnHover:[{type:n.Input}],popoverCloseOnClickOutside:[{type:n.Input}],popoverCloseOnMouseOutside:[{type:n.Input}],popoverDismissTimeout:[{type:n.Input}],onShown:[{type:n.Output}],onHidden:[{type:n.Output}],showOrHideOnClick:[{type:n.HostListener,args:["click"]}],showOnHover:[{type:n.HostListener,args:["focusin"]},{type:n.HostListener,args:["mouseenter"]}],hideOnHover:[{type:n.HostListener,args:["focusout"]},{type:n.HostListener,args:["mouseleave"]}]},t}(),s=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{imports:[e.CommonModule],declarations:[o,i],exports:[o,i],entryComponents:[o]}]}],t}();t["default"]=s,t.Popover=i,t.PopoverContent=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-popover.umd.min.js.map