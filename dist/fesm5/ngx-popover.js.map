{"version":3,"file":"ngx-popover.js.map","sources":["ng://ngx-popover/PopoverContent.ts","ng://ngx-popover/Popover.ts","ng://ngx-popover/index.ts"],"sourcesContent":["import {Component, Input, AfterViewInit, ElementRef, ChangeDetectorRef, OnDestroy, ViewChild, EventEmitter, Renderer2 } from \"@angular/core\";\nimport {Popover} from \"./Popover\";\n\n@Component({\n    selector: \"popover-content\",\n    template: `\n<div #popoverDiv class=\"popover {{ effectivePlacement }}\"\n     [style.top]=\"top + 'px'\"\n     [style.left]=\"left + 'px'\"\n     [class.in]=\"isIn\"\n     [class.fade]=\"animation\"\n     style=\"display: block\"\n     role=\"popover\">\n    <div [hidden]=\"!closeOnMouseOutside\" class=\"virtual-area\"></div>\n    <div class=\"arrow\"></div> \n    <h3 class=\"popover-title\" [hidden]=\"!title\">{{ title }}</h3>\n    <div class=\"popover-content\">\n        <ng-content></ng-content>\n        {{ content }}\n    </div> \n</div>\n`,\n    styles: [`\n.popover .virtual-area {\n    height: 11px;\n    width: 100%;\n    position: absolute;\n}\n.popover.top .virtual-area {\n    bottom: -11px; \n}\n.popover.bottom .virtual-area {\n    top: -11px; \n}\n.popover.left .virtual-area {\n    right: -11px; \n}\n.popover.right .virtual-area {\n    left: -11px; \n}\n`]\n})\nexport class PopoverContent implements AfterViewInit, OnDestroy {\n\n    // -------------------------------------------------------------------------\n    // Inputs / Outputs \n    // -------------------------------------------------------------------------\n\n    // @Input()\n    // hostElement: HTMLElement;\n\n    @Input()\n    content: string;\n\n    @Input()\n    placement: \"top\"|\"bottom\"|\"left\"|\"right\"|\"auto\"|\"auto top\"|\"auto bottom\"|\"auto left\"|\"auto right\" = \"bottom\";\n\n    @Input()\n    title: string;\n\n    @Input()\n    animation: boolean = true;\n\n    @Input()\n    closeOnClickOutside: boolean = false;\n\n    @Input()\n    closeOnMouseOutside: boolean = false;\n\n    // -------------------------------------------------------------------------\n    // Properties\n    // -------------------------------------------------------------------------\n\n    @ViewChild(\"popoverDiv\")\n    popoverDiv: ElementRef;\n\n    popover: Popover;\n    onCloseFromOutside = new EventEmitter();\n    top: number = -10000;\n    left: number = -10000;\n    isIn: boolean = false;\n    displayType: string = \"none\";\n    effectivePlacement: string;\n\n    // -------------------------------------------------------------------------\n    // Anonymous \n    // -------------------------------------------------------------------------\n\n    /**\n     * Closes dropdown if user clicks outside of this directive.\n     */\n    onDocumentMouseDown = (event: any) => {\n        const element = this.element.nativeElement;\n        if (!element || !this.popover) return;\n        if (element.contains(event.target) || this.popover.getElement().contains(event.target)) return;\n        this.hide();\n        this.onCloseFromOutside.emit(undefined);\n    };\n\n    // -------------------------------------------------------------------------\n    // Constructor\n    // -------------------------------------------------------------------------\n\n    constructor(protected element: ElementRef,\n                protected cdr: ChangeDetectorRef,\n                protected renderer: Renderer2) {\n    }\n\n    // -------------------------------------------------------------------------\n    // Lifecycle callbacks\n    // -------------------------------------------------------------------------\n\n    listenClickFunc: any;\n    listenMouseFunc: any;\n    ngAfterViewInit(): void {\n        if (this.closeOnClickOutside)\n            this.listenClickFunc = this.renderer.listen(\"document\", \"mousedown\", (event: any) => this.onDocumentMouseDown(event));\n        if (this.closeOnMouseOutside)\n            this.listenMouseFunc = this.renderer.listen(\"document\", \"mouseover\", (event: any) => this.onDocumentMouseDown(event));\n\n        this.show();\n        this.cdr.detectChanges();\n    }\n\n    ngOnDestroy() {\n        if (this.closeOnClickOutside)\n            this.listenClickFunc();\n        if (this.closeOnMouseOutside)\n            this.listenMouseFunc();\n    }\n\n    // -------------------------------------------------------------------------\n    // Public Methods\n    // -------------------------------------------------------------------------\n\n    show(): void {\n        if (!this.popover || !this.popover.getElement())\n            return;\n\n        const p = this.positionElements(this.popover.getElement(), this.popoverDiv.nativeElement, this.placement);\n        this.displayType = \"block\";\n        this.top = p.top;\n        this.left = p.left;\n        this.isIn = true;\n    }\n\n    hide(): void {\n        this.top = -10000;\n        this.left = -10000;\n        this.isIn = true;\n        this.popover.hide();\n    }\n\n    hideFromPopover() {\n        this.top = -10000;\n        this.left = -10000;\n        this.isIn = true;\n    }\n\n    // -------------------------------------------------------------------------\n    // Protected Methods\n    // -------------------------------------------------------------------------\n\n    protected positionElements(hostEl: HTMLElement, targetEl: HTMLElement, positionStr: string, appendToBody: boolean = false): { top: number, left: number } {\n        let positionStrParts = positionStr.split(\"-\");\n        let pos0 = positionStrParts[0];\n        let pos1 = positionStrParts[1] || \"center\";\n        let hostElPos = appendToBody ? this.offset(hostEl) : this.position(hostEl);\n        let targetElWidth = targetEl.offsetWidth;\n        let targetElHeight = targetEl.offsetHeight;\n\n        this.effectivePlacement = pos0 = this.getEffectivePlacement(pos0, hostEl, targetEl);\n\n        let shiftWidth: any = {\n            center: function (): number {\n                return hostElPos.left + hostElPos.width / 2 - targetElWidth / 2;\n            },\n            left: function (): number {\n                return hostElPos.left;\n            },\n            right: function (): number {\n                return hostElPos.left + hostElPos.width;\n            }\n        };\n\n        let shiftHeight: any = {\n            center: function (): number {\n                return hostElPos.top + hostElPos.height / 2 - targetElHeight / 2;\n            },\n            top: function (): number {\n                return hostElPos.top;\n            },\n            bottom: function (): number {\n                return hostElPos.top + hostElPos.height;\n            }\n        };\n\n        let targetElPos: { top: number, left: number };\n        switch (pos0) {\n            case \"right\":\n                targetElPos = {\n                    top: shiftHeight[pos1](),\n                    left: shiftWidth[pos0]()\n                };\n                break;\n\n            case \"left\":\n                targetElPos = {\n                    top: shiftHeight[pos1](),\n                    left: hostElPos.left - targetElWidth\n                };\n                break;\n\n            case \"bottom\":\n                targetElPos = {\n                    top: shiftHeight[pos0](),\n                    left: shiftWidth[pos1]()\n                };\n                break;\n\n            default:\n                targetElPos = {\n                    top: hostElPos.top - targetElHeight,\n                    left: shiftWidth[pos1]()\n                };\n                break;\n        }\n\n        return targetElPos;\n    }\n\n    protected position(nativeEl: HTMLElement): { width: number, height: number, top: number, left: number } {\n        let offsetParentBCR = { top: 0, left: 0 };\n        const elBCR = this.offset(nativeEl);\n        const offsetParentEl = this.parentOffsetEl(nativeEl);\n        if (offsetParentEl !== window.document) {\n            offsetParentBCR = this.offset(offsetParentEl);\n            offsetParentBCR.top += offsetParentEl.clientTop - offsetParentEl.scrollTop;\n            offsetParentBCR.left += offsetParentEl.clientLeft - offsetParentEl.scrollLeft;\n        }\n\n        const boundingClientRect = nativeEl.getBoundingClientRect();\n        return {\n            width: boundingClientRect.width || nativeEl.offsetWidth,\n            height: boundingClientRect.height || nativeEl.offsetHeight,\n            top: elBCR.top - offsetParentBCR.top,\n            left: elBCR.left - offsetParentBCR.left\n        };\n    }\n\n    protected offset(nativeEl: any): { width: number, height: number, top: number, left: number } {\n        const boundingClientRect = nativeEl.getBoundingClientRect();\n        return {\n            width: boundingClientRect.width || nativeEl.offsetWidth,\n            height: boundingClientRect.height || nativeEl.offsetHeight,\n            top: boundingClientRect.top + (window.pageYOffset || window.document.documentElement.scrollTop),\n            left: boundingClientRect.left + (window.pageXOffset || window.document.documentElement.scrollLeft)\n        };\n    }\n\n    protected getStyle(nativeEl: HTMLElement, cssProp: string): string {\n        if ((nativeEl as any).currentStyle) // IE\n            return (nativeEl as any).currentStyle[cssProp];\n\n        if (window.getComputedStyle)\n            return (window.getComputedStyle as any)(nativeEl)[cssProp];\n\n        // finally try and get inline style\n        return (nativeEl.style as any)[cssProp];\n    }\n\n    protected isStaticPositioned(nativeEl: HTMLElement): boolean {\n        return (this.getStyle(nativeEl, \"position\") || \"static\" ) === \"static\";\n    }\n\n    protected parentOffsetEl(nativeEl: HTMLElement): any {\n        let offsetParent: any = nativeEl.offsetParent || window.document;\n        while (offsetParent && offsetParent !== window.document && this.isStaticPositioned(offsetParent)) {\n            offsetParent = offsetParent.offsetParent;\n        }\n        return offsetParent || window.document;\n    }\n\n    protected getEffectivePlacement(placement: string, hostElement: HTMLElement, targetElement: HTMLElement): string {\n        const placementParts = placement.split(\" \");\n        if (placementParts[0] !== \"auto\") {\n            return placement;\n        }\n\n        const hostElBoundingRect = hostElement.getBoundingClientRect();\n\n        const desiredPlacement = placementParts[1] || \"bottom\";\n\n        if (desiredPlacement === \"top\" && hostElBoundingRect.top - targetElement.offsetHeight < 0) {\n            return \"bottom\";\n        }\n        if (desiredPlacement === \"bottom\" && hostElBoundingRect.bottom + targetElement.offsetHeight > window.innerHeight) {\n            return \"top\";\n        }\n        if (desiredPlacement === \"left\" && hostElBoundingRect.left - targetElement.offsetWidth < 0) {\n            return \"right\";\n        }\n        if (desiredPlacement === \"right\" && hostElBoundingRect.right + targetElement.offsetWidth > window.innerWidth) {\n            return \"left\";\n        }\n\n        return desiredPlacement;\n    }\n}\n","import { Directive, HostListener, ComponentRef, ViewContainerRef, ComponentFactoryResolver, ComponentFactory, Input, OnChanges, SimpleChange, Output, EventEmitter } from \"@angular/core\";\nimport {PopoverContent} from \"./PopoverContent\";\n\n@Directive({\n    selector: \"[popover]\",\n    exportAs: \"popover\"\n})\nexport class Popover implements OnChanges {\n\n    // -------------------------------------------------------------------------\n    // Properties\n    // -------------------------------------------------------------------------\n\n    protected PopoverComponent = PopoverContent;\n    protected popover: ComponentRef<PopoverContent>;\n    protected visible: boolean;\n\n    // -------------------------------------------------------------------------\n    // Constructor\n    // -------------------------------------------------------------------------\n\n    constructor(protected viewContainerRef: ViewContainerRef,\n                protected resolver: ComponentFactoryResolver) {\n    }\n\n    // -------------------------------------------------------------------------\n    // Inputs / Outputs\n    // -------------------------------------------------------------------------\n\n    @Input(\"popover\")\n    content: string|PopoverContent;\n\n    @Input()\n    popoverDisabled: boolean;\n\n    @Input()\n    popoverAnimation: boolean;\n\n    @Input()\n    popoverPlacement: \"top\"|\"bottom\"|\"left\"|\"right\"|\"auto\"|\"auto top\"|\"auto bottom\"|\"auto left\"|\"auto right\";\n\n    @Input()\n    popoverTitle: string;\n\n    @Input()\n    popoverOnHover: boolean = false;\n\n    @Input()\n    popoverCloseOnClickOutside: boolean;\n\n    @Input()\n    popoverCloseOnMouseOutside: boolean;\n\n    @Input()\n    popoverDismissTimeout: number = 0;\n\n    @Output()\n    onShown = new EventEmitter<Popover>();\n\n    @Output()\n    onHidden = new EventEmitter<Popover>();\n\n    // -------------------------------------------------------------------------\n    // Event listeners\n    // -------------------------------------------------------------------------\n\n    @HostListener(\"click\")\n    showOrHideOnClick(): void {\n        if (this.popoverOnHover) return;\n        if (this.popoverDisabled) return;\n        this.toggle();\n    }\n\n    @HostListener(\"focusin\")\n    @HostListener(\"mouseenter\")\n    showOnHover(): void {\n        if (!this.popoverOnHover) return;\n        if (this.popoverDisabled) return;\n        this.show();\n    }\n\n    @HostListener(\"focusout\")\n    @HostListener(\"mouseleave\")\n    hideOnHover(): void {\n        if (this.popoverCloseOnMouseOutside) return; // don't do anything since not we control this\n        if (!this.popoverOnHover) return;\n        if (this.popoverDisabled) return;\n        this.hide();\n    }\n\n    ngOnChanges(changes: {[propertyName: string]: SimpleChange}) {\n        if (changes[\"popoverDisabled\"]) {\n            if (changes[\"popoverDisabled\"].currentValue) {\n                this.hide();\n            }\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    // Public Methods\n    // -------------------------------------------------------------------------\n\n    toggle() {\n        if (!this.visible) {\n            this.show();\n        } else {\n            this.hide();\n        }\n    }\n\n    show() {\n        if (this.visible) return;\n\n        this.visible = true;\n        if (typeof this.content === \"string\") {\n            const factory = this.resolver.resolveComponentFactory(this.PopoverComponent);\n            if (!this.visible)\n                return;\n\n            this.popover = this.viewContainerRef.createComponent(factory);\n            const popover = this.popover.instance as PopoverContent;\n            popover.popover = this;\n            popover.content = this.content as string;\n            if (this.popoverPlacement !== undefined)\n                popover.placement = this.popoverPlacement;\n            if (this.popoverAnimation !== undefined)\n                popover.animation = this.popoverAnimation;\n            if (this.popoverTitle !== undefined)\n                popover.title = this.popoverTitle;\n            if (this.popoverCloseOnClickOutside !== undefined)\n                popover.closeOnClickOutside = this.popoverCloseOnClickOutside;\n            if (this.popoverCloseOnMouseOutside !== undefined)\n                popover.closeOnMouseOutside = this.popoverCloseOnMouseOutside;\n\n            popover.onCloseFromOutside.subscribe(() => this.hide());\n            // if dismissTimeout option is set, then this popover will be dismissed in dismissTimeout time\n            if (this.popoverDismissTimeout > 0)\n                setTimeout(() => this.hide(), this.popoverDismissTimeout);\n        } else {\n            const popover = this.content as PopoverContent;\n            popover.popover = this;\n            if (this.popoverPlacement !== undefined)\n                popover.placement = this.popoverPlacement;\n            if (this.popoverAnimation !== undefined)\n                popover.animation = this.popoverAnimation;\n            if (this.popoverTitle !== undefined)\n                popover.title = this.popoverTitle;\n            if (this.popoverCloseOnClickOutside !== undefined)\n                popover.closeOnClickOutside = this.popoverCloseOnClickOutside;\n            if (this.popoverCloseOnMouseOutside !== undefined)\n                popover.closeOnMouseOutside = this.popoverCloseOnMouseOutside;\n\n            popover.onCloseFromOutside.subscribe(() => this.hide());\n            // if dismissTimeout option is set, then this popover will be dismissed in dismissTimeout time\n            if (this.popoverDismissTimeout > 0)\n                setTimeout(() => this.hide(), this.popoverDismissTimeout);\n            popover.show();\n        }\n\n        this.onShown.emit(this);\n    }\n\n    hide() {\n        if (!this.visible) return;\n\n        this.visible = false;\n        if (this.popover)\n            this.popover.destroy();\n\n        if (this.content instanceof PopoverContent)\n            (this.content as PopoverContent).hideFromPopover();\n\n        this.onHidden.emit(this);\n    }\n\n    getElement() {\n        return this.viewContainerRef.element.nativeElement;\n    }\n\n}\n","import {CommonModule} from \"@angular/common\";\nimport {Popover} from \"./Popover\";\nimport {PopoverContent} from \"./PopoverContent\";\nimport {NgModule} from \"@angular/core\";\n\nexport * from \"./Popover\";\nexport * from \"./PopoverContent\";\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        PopoverContent,\n        Popover,\n    ],\n    exports: [\n        PopoverContent,\n        Popover,\n    ],\n    entryComponents: [\n        PopoverContent\n    ]\n})\nexport default class PopoverModule {\n    \n}"],"names":[],"mappings":"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"}
